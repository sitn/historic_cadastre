#===========================================================================
dpis: [254]

#===========================================================================
# the allowed scales
#===========================================================================
scales:
  - 100
  - 200
  - 500
  - 1000
  - 2000
  - 2500
  - 5000
  - 10000
  - 25000
  - 50000
  - 100000
  - 200000
  - 500000

#===========================================================================
# the list of allowed hosts
#===========================================================================
hosts:
  - !localMatch
    dummy: true
  - !dnsMatch
    host: localhost
    port: 80 
  - !dnsMatch
    host: localhost
    port: 80
  - !dnsMatch
    host: localhost
    port: 6543
  - !dnsMatch
    host: sitn.ne.ch
    port: 80

localHostForward:
    from:
        - localhost
    https2http: True

#===========================================================================
# the output filename
#===========================================================================
outputFilename: impression_sitn

#===========================================================================
# supported output formats
#===========================================================================
formats:
  - "pdf"
  - "png"

globalParallelFetches: 1

layouts:

  #===========================================================================
  2 A4 portrait:
  #===========================================================================
    metaData:
      title: '${title}'

    #-------------------------------------------------------------------------
    mainPage:
      pageSize: A4
      rotation: true
      backgroundPdf: 'file:///${configDir}/A4_portrait.pdf'
      marginTop: 69
      items:
        - !map
          condition: showMap
          width: 530
          height: 692
          align: center
        - !columns
          condition: showAttr
          absoluteX: 20
          absoluteY: 768
          width: 522
          config:
              borderWidth: 0.2
              borderColor: black
          items:
            - !attributes
              source: table
              tableConfig: 
                cells: 
                  - padding: 2
                    backgroundColor: #ffffff
                    borderWidthRight: 1
                    borderWidthBottom: 1
                    borderColor: black  
              columnDefs:
                col0:
                  header: !text
                    text: '${col0}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col0}'
                        fontSize: 8
                        backgroundColor: #ffffff
                        borderColorBottom: #ffffff
                        borderWidthBottom: 1
                col1:
                  header: !text
                    text: '${col1}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col1}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col2:
                  header: !text
                    text: '${col2}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col2}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col3:
                  header: !text
                    text: '${col3}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col3}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col4:
                  header: !text
                    text: '${col4}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col4}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col5:
                  header: !text
                    text: '${col5}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col5}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col6:
                  header: !text
                    text: '${col6}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col6}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col7:
                  header: !text
                    text: '${col7}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col7}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col8:
                  header: !text
                    text: '${col8}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col8}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col9:
                  header: !text
                    text: '${col9}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col9}'
                        fontSize: 8
                        backgroundColor: #ffffff
        - !columns
          condition: showScale
          absoluteX: 221
          absoluteY: 55
          width: 500
          items:
            - !scalebar
              maxSize: 200
              type: bar_sub
              intervals: 5
              textDirection: up
              barDirection: up
              align: left
              barSize: 3
              lineWidth: 0.3
              fontSize: 5
              labelDistance: 2
              barBgColor: #FFFFFF
        - !columns
          condition: showNorth
          absoluteX: 389
          absoluteY: 55
          width: 30
          items:
            - !image
              align: center
              maxWidth: 15
              url: 'file:///${configDir}/north.png'
              rotation: '${rotation}'
        # Date
        - !columns
          absoluteX: 20
          absoluteY: 40
          width: 200
          items:
            - !text
              text: 'Impression du : ${now dd.MM.yyyy HH:mm:ss}'
              fontSize: 6
        # Title
        - !columns
          absoluteX: 20
          absoluteY: 55
          width: 118
          items:
            - !text
              text: '${title}'
              fontSize: 10
        # Comment
        - !columns
          absoluteX: 434
          absoluteY: 55
          width: 118
          items:
            - !text
              text: '${comment}'
              fontSize: 7
        # Scale
        - !columns
          condition: showScalevalue
          absoluteX: 258
          absoluteY: 40
          width: 150
          items:
            - !text
              text: 'Échelle 1:${scale}'
              fontSize: 9
    lastPage:
      items:
         - !columns
          condition: legends
          absoluteX: 51
          absoluteY: 808
          width: 511
          items:
            - !legends
              inline: false
              defaultScale: 0
              maxHeight: 400
              maxWidth: 250
              maxIconHeight: 0
              maxIconWidth: 0
              columnMargin: 10
              classIndentation: 3
              classSpace: 5
              backgroundColor: white
              layerFontSize: 9








  #===========================================================================
  1 A4 paysage:
  #===========================================================================
    metaData:
      title: '${title}'

    #-------------------------------------------------------------------------
    mainPage:
      pageSize: A4
      rotation: true
      landscape: true
      backgroundPdf: 'file:///${configDir}/A4_paysage.pdf'
      marginTop: 50
      items:
        - !map
          condition: showMap
          width: 810
          height: 470
          align:center
        - !columns
          condition: showAttr
          absoluteX: 20
          absoluteY: 540
          width: 802
          config:
              borderWidth: 0.2
              borderColor: black
          items:
            - !attributes
              source: table
              tableConfig: 
                cells: 
                  - padding: 2
                    backgroundColor: #ffffff
                    borderWidthRight: 1
                    borderWidthBottom: 1
                    borderColor: black  
              columnDefs:
                col0:
                  header: !text
                    text: '${col0}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col0}'
                        fontSize: 8
                        backgroundColor: #ffffff
                        borderColorBottom: #ffffff
                        borderWidthBottom: 1
                col1:
                  header: !text
                    text: '${col1}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col1}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col2:
                  header: !text
                    text: '${col2}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col2}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col3:
                  header: !text
                    text: '${col3}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col3}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col4:
                  header: !text
                    text: '${col4}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col4}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col5:
                  header: !text
                    text: '${col5}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col5}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col6:
                  header: !text
                    text: '${col6}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col6}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col7:
                  header: !text
                    text: '${col7}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col7}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col8:
                  header: !text
                    text: '${col8}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col8}'
                        fontSize: 8
                        backgroundColor: #ffffff
                col9:
                  header: !text
                    text: '${col9}'
                    font: Helvetica-Bold
                    fontSize: 8
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col9}'
                        fontSize: 8
                        backgroundColor: #ffffff

        - !columns
          condition: showScale
          absoluteX: 345
          absoluteY: 55
          width: 500
          items:
            - !scalebar
              maxSize: 200
              type: bar_sub
              intervals: 5
              textDirection: up
              barDirection: up
              align: left
              barSize: 3
              lineWidth: 0.3
              fontSize: 5
              labelDistance: 2
              barBgColor: #FFFFFF
        - !columns
          condition: showNorth
          absoluteX: 550
          absoluteY: 55
          width: 30
          items:
            - !image
              align: center
              maxWidth: 15
              url: 'file:///${configDir}/north.png'
              rotation: '${rotation}'
        - !columns
          absoluteX: 14
          absoluteY: 40
          width: 200
          items:
            - !text
              text: 'Impression du : ${now dd.MM.yyyy HH:mm:ss}'
              fontSize: 8
              align: left
              vertAlign: top
        # Title
        - !columns
          absoluteX: 14
          absoluteY: 55
          width: 118
          items:
            - !text
              text: '${title}'
              fontSize: 10
        # Comment
        - !columns
          absoluteX: 600
          absoluteY: 55
          width: 200
          items:
            - !text
              text: '${comment}'
              fontSize: 7
              align: left
        # Scale
        - !columns
          condition: showScalevalue
          absoluteX: 345
          absoluteY: 40
          width: 150
          items:
            - !text
              text: 'Échelle 1:${scale}'
              fontSize: 9
              align: center
    lastPage:
      items:
         - !columns
          condition: legends
          absoluteX: 51
          absoluteY: 808
          width: 511
          items:
            - !legends
              inline: false
              defaultScale: 0
              maxHeight: 400
              maxWidth: 250
              maxIconHeight: 0
              maxIconWidth: 0
              columnMargin: 10
              classIndentation: 3
              classSpace: 5
              backgroundColor: white
              layerFontSize: 9




  #===========================================================================
  3 A3 paysage:
  #===========================================================================
    metaData:
      title: '${title}'

    #-------------------------------------------------------------------------
    mainPage:
      pageSize: A3
      rotation: true
      landscape: true
      backgroundPdf: 'file:///${configDir}/A3_paysage.pdf'
      marginTop: 62
      items:
        - !map
          condition: showMap
          width: 1146
          height: 690
          align:center
        - !columns
          condition: showAttr
          absoluteX: 28
          absoluteY: 764
          width: 1135
          config:
              borderWidth: 0.2
              borderColor: black
          items:
            - !attributes
              source: table
              tableConfig: 
                cells: 
                  - padding: 2
                    backgroundColor: #ffffff
                    borderWidthRight: 1
                    borderWidthBottom: 1
                    borderColor: black  
              columnDefs:
                col0:
                  header: !text
                    text: '${col0}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col0}'
                        fontSize: 5
                        backgroundColor: #ffffff
                        borderColorBottom: #ffffff
                        borderWidthBottom: 1
                col1:
                  header: !text
                    text: '${col1}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col1}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col2:
                  header: !text
                    text: '${col2}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col2}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col3:
                  header: !text
                    text: '${col3}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col3}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col4:
                  header: !text
                    text: '${col4}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col4}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col5:
                  header: !text
                    text: '${col5}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col5}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col6:
                  header: !text
                    text: '${col6}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col6}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col7:
                  header: !text
                    text: '${col7}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col7}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col8:
                  header: !text
                    text: '${col8}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col8}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col9:
                  header: !text
                    text: '${col9}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col9}'
                        fontSize: 5
                        backgroundColor: #ffffff
        - !columns
          condition: showScale
          absoluteX: 488
          absoluteY: 78
          width: 500
          items:
            - !scalebar
              maxSize: 200
              type: bar_sub
              intervals: 5
              textDirection: up
              barDirection: up
              align: left
              barSize: 3
              lineWidth: 0.3
              fontSize: 8
              labelDistance: 4
              barBgColor: #FFFFFF
        - !columns
          condition: showNorth
          absoluteX: 778
          absoluteY: 78
          width: 30
          items:
            - !image
              align: center
              maxWidth: 15
              url: 'file:///${configDir}/north.png'
              rotation: '${rotation}'
        - !columns
          absoluteX: 23
          absoluteY: 50
          width: 200
          items:
            - !text
              text: 'Impression du : ${now dd.MM.yyyy HH:mm:ss}'
              fontSize: 8
              align: left
              vertAlign: top
        # Title
        - !columns
          absoluteX: 23
          absoluteY: 78
          width: 118
          items:
            - !text
              text: '${title}'
              fontSize: 10
        # Comment
        - !columns
          absoluteX: 849
          absoluteY: 78
          width: 200
          items:
            - !text
              text: '${comment}'
              fontSize: 7
              align: left
        # Scale
        - !columns
          condition: showScalevalue
          absoluteX: 488
          absoluteY: 57
          width: 150
          items:
            - !text
              text: 'Échelle 1:${scale}'
              fontSize: 9
              align: center
    lastPage:
      items:
         - !columns
          condition: legends
          absoluteX: 51
          absoluteY: 808
          width: 511
          items:
            - !legends
              inline: false
              defaultScale: 0
              maxHeight: 400
              maxWidth: 250
              maxIconHeight: 0
              maxIconWidth: 0
              columnMargin: 10
              classIndentation: 3
              classSpace: 5
              backgroundColor: white
              layerFontSize: 9




  #===========================================================================
  4 A3 portrait:
  #===========================================================================
    metaData:
      title: '${title}'

    #-------------------------------------------------------------------------
    mainPage:
      pageSize: A3
      rotation: true
      backgroundPdf: 'file:///${configDir}/A3_portrait.pdf'
      marginTop: 76
      items:
        - !map
          condition: showMap
          width: 750
          height: 989
          align: center
        - !columns
          condition: showAttr
          absoluteX: 20
          absoluteY: 1087
          width:  800
          config:
              borderWidth: 0.2
              borderColor: black
          items:
            - !attributes
              source: table
              tableConfig: 
                cells: 
                  - padding: 2
                    backgroundColor: #ffffff
                    borderWidthRight: 1
                    borderWidthBottom: 1
                    borderColor: black  
              columnDefs:
                col0:
                  header: !text
                    text: '${col0}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col0}'
                        fontSize: 5
                        backgroundColor: #ffffff
                        borderColorBottom: #ffffff
                        borderWidthBottom: 1
                col1:
                  header: !text
                    text: '${col1}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col1}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col2:
                  header: !text
                    text: '${col2}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col2}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col3:
                  header: !text
                    text: '${col3}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col3}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col4:
                  header: !text
                    text: '${col4}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col4}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col5:
                  header: !text
                    text: '${col5}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col5}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col6:
                  header: !text
                    text: '${col6}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col6}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col7:
                  header: !text
                    text: '${col7}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col7}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col8:
                  header: !text
                    text: '${col8}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col8}'
                        fontSize: 5
                        backgroundColor: #ffffff
                col9:
                  header: !text
                    text: '${col9}'
                    fontSize: 6
                    backgroundColor: #ffffff
                  cell: !columns
                    items:
                      - !text
                        text: '${col9}'
                        fontSize: 5
                        backgroundColor: #ffffff
        - !columns
          condition: showScale
          absoluteX: 313
          absoluteY: 78
          width: 500
          items:
            - !scalebar
              maxSize: 200
              type: bar_sub
              intervals: 5
              textDirection: up
              barDirection: up
              align: left
              barSize: 3
              lineWidth: 0.3
              fontSize: 8
              labelDistance: 4
              barBgColor: #FFFFFF
        - !columns
          condition: showNorth
          absoluteX: 550
          absoluteY: 78
          width: 30
          items:
            - !image
              align: center
              maxWidth: 15
              url: 'file:///${configDir}/north.png'
              rotation: '${rotation}'
        - !columns
          absoluteX: 20
          absoluteY: 55
          width: 200
          items:
            - !text
              text: 'Impression du : ${now dd.MM.yyyy HH:mm:ss}'
              fontSize: 6
        - !columns
          absoluteX: 20
          absoluteY: 78
          width: 195
          items:
            - !text
              text: '${title}'
              fontSize: 9
        - !columns
          absoluteX: 614
          absoluteY: 78
          width: 195
          items:
            - !text
              text: '${comment}'
              fontSize: 9
        - !columns
          condition: showScalevalue
          absoluteX: 365
          absoluteY: 55
          width: 195
          items:
            - !text
              text:  'Échelle 1:${scale}'
              fontSize: 9
    lastPage:
      items:
         - !columns
          condition: legends
          absoluteX: 51
          absoluteY: 808
          width: 511
          items:
            - !legends
              inline: false
              defaultScale: 0
              maxHeight: 400
              maxWidth: 250
              maxIconHeight: 0
              maxIconWidth: 0
              columnMargin: 10
              classIndentation: 3
              classSpace: 5
              backgroundColor: white
              layerFontSize: 9






